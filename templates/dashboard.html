<!DOCTYPE html>
<html lang="id" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weathrly - Dashboard</title>
    <link rel="icon" href="../static/style/image/logo.png" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link rel="stylesheet" href="../static/style/css/dashboard.css">

</head>

<body class="transition-colors duration-300">

    <div id="loading-overlay" class="fixed inset-0 flex items-center justify-center transition-opacity duration-500"
        style="background-color: var(--body-bg);">
        <div class="container-loader">
            <div class="cloud-loader front-loader">
                <span class="left-front-loader"></span>
                <span class="right-front-loader"></span>
            </div>
            <span class="sun-loader sunshine-loader"></span>
            <span class="sun-loader"></span>
            <div class="cloud-loader back-loader">
                <span class="left-back-loader"></span>
                <span class="right-back-loader"></span>
            </div>
        </div>
    </div>

    <nav id="navbar" class="fixed top-0 left-0 right-0 z-40">
        <div class="p-4">
            <div
                class="navbar-container max-w-7xl mx-auto px-4 sm:px-6 py-3 rounded-2xl flex items-center justify-between">
                <a href="#" class="flex items-center gap-2">
                    <img src="../static/style/image/logo.png" alt="Logo Weathrly"
                        class="w-12 h-10 rounded-full object-cover">
                    <span class="logo-text text-2xl font-extrabold">Weathrly</span>
                </a>

                <div class="hidden md:flex items-center gap-4 sm:gap-6">
                    <button id="upgrade-btn-nav"
                        class="btn-cta text-sm text-white font-semibold px-4 py-2 rounded-lg flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-4 text-yellow-400" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        Tingkatkan ke Premium
                    </button>

                    <div class="relative">
                        <button id="avatar-button" class="block">
                            <img id="user-avatar"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NlY2VjZSI+PHBhdGggZD0iTTEyIDJDNi44OCAyIDIgNi44OCAyIDEyczQuODggMTAgMTAgMTAgMTAtNC44OCAxMC0xMFMxNy4xMiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTN6bTAgMTRjLTIuNjcgMC01LTEuNDUtNi4zMi0zLjU4LjkzLTEuNzYgMy4zMi0yLjkyIDYuMzItMi45MiAzLjM0IDAgNS41MSAxLjI2IDYuMzIgMi45Mi0xLjM0IDIuMTMtMy42OCAzLjU4LTYuMzUgMy41OHoiLz48L3N2Zz4="
                                alt="User Avatar"
                                class="w-10 h-10 rounded-full object-cover border-2 border-transparent hover:border-blue-300 transition-all">
                        </button>

                        <div id="logout-dropdown"
                            class="hidden absolute right-0 mt-2 w-64 rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 transform origin-top-right scale-95 opacity-0">
                            <div class="px-4 py-3 text-center">
                                <p class="text-sm" style="color: var(--text-color-secondary);">Halo,</p>
                                <p id="dropdown-user-name" class="text-md font-semibold truncate"
                                    style="color: var(--text-color-primary);">Pengguna</p>
                            </div>

                            <hr style="border-color: var(--card-border);" class="my-0">

                            <div class="p-2">

                                <div class="flex items-center gap-3 px-3 py-2 text-sm mt-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400"
                                        viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                            clip-rule="evenodd" />
                                    </svg>
                                    <span id="dropdown-user-email" class="truncate"
                                        style="color: var(--text-color-primary);">email@pengguna.com</span>
                                </div>

                                <a href="#" id="settings-link-desktop"
                                    class="dropdown-item flex items-center gap-3 w-full text-left px-3 py-2 text-sm rounded-md transition-colors"
                                    style="color: var(--text-color-primary);">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    <span>Pengaturan</span>
                                </a>

                                <a href="#" id="logout-btn"
                                    class="btn-logout flex items-center gap-3 w-full text-left px-3 py-2 text-sm rounded-md transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                            clip-rule="evenodd" />
                                    </svg>
                                    <span>Keluar</span>
                                </a>
                            </div>
                        </div>

                    </div>

                    <label class="switch">
                        <input id="theme-toggle-input" type="checkbox" />
                        <div class="slider round">
                            <div class="sun-moon">
                                <svg id="moon-dot-1" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="moon-dot-2" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="moon-dot-3" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-1" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-2" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-3" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-1" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-2" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-3" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-4" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-5" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-6" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                            </div>
                            <div class="stars">
                                <svg id="star-1" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-2" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-3" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-4" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                            </div>
                        </div>
                    </label>
                </div>

                <button id="menu-toggle" class="md:hidden p-2 rounded-md focus:outline-none">
                    <span class="sr-only">Buka menu utama</span>
                    <svg id="icon-menu" class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor" style="color: var(--icon-color);">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    <svg id="icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor" style="color: var(--icon-color);">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="md:hidden p-4 pt-0">
            <div class="mobile-menu p-6 flex flex-col items-center gap-4 rounded-2xl">
                <div class="flex flex-col items-center text-center">
                    <img id="mobile-user-avatar"
                        src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NlY2VjZSI+PHBhdGggZD0iTTEyIDJDNi44OCAyIDIgNi44OCAyIDEyczQuODggMTAgMTAgMTAgMTAtNC44OCAxMC0xMFMxNy4xMiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTN6bTAgMTRjLTIuNjcgMC01LTEuNDUtNi4zMi0zLjU4LjkzLTEuNzYgMy42Mi0yLjkyIDYuMzItMi45MiAzLjM0IDAgNS41MSAxLjI2IDYuMzIgMi45Mi0xLjM0IDIuMTMtMy42OCAzLjU4LTYuMzUgMy41OHoiLz48L3N2Zz4="
                        alt="User Avatar" class="w-16 h-16 rounded-full object-cover border-2 mb-2"
                        style="border-color: var(--card-border);">
                    <p id="mobile-dropdown-user-name" class="text-lg font-semibold truncate"
                        style="color: var(--text-color-primary);">Pengguna</p>
                    <p id="mobile-dropdown-user-email" class="text-sm truncate"
                        style="color: var(--text-color-secondary);">email@pengguna.com</p>
                </div>

                <button id="upgrade-btn-mobile"
                    class="w-full mt-2 btn-cta text-sm text-white font-semibold px-4 py-2.5 rounded-lg flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-4 text-yellow-400" viewBox="0 0 20 20"
                        fill="currentColor">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    Tingkatkan ke Premium
                </button>

                <a href="#" id="settings-link-mobile"
                    class="dropdown-item w-full mt-2 btn-outline text-sm font-semibold px-4 py-2.5 rounded-lg flex items-center justify-center gap-2 border transition-colors"
                    style="color: var(--text-color-primary); border-color: var(--input-border);">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    Pengaturan
                </a>

                <a href="#" id="logout-btn-mobile"
                    class="btn-logout-mobile w-full text-sm font-semibold px-4 py-2.5 rounded-lg flex items-center justify-center gap-2 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Keluar</span>
                </a>

                <div class="flex w-full items-center justify-between border-t pt-4 mt-2"
                    style="border-color: var(--card-border);">
                    <span class="text-sm font-medium text-left" style="color: var(--text-color-secondary);">Mode
                        Tampilan</span>
                    <label class="switch">
                        <input id="theme-toggle-mobile" type="checkbox" />
                        <div class="slider round">
                            <div class="sun-moon">
                                <svg id="moon-dot-1" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="moon-dot-2" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="moon-dot-3" class="moon-dot" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-1" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-2" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="light-ray-3" class="light-ray" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-1" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-2" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-3" class="cloud-dark" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-4" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-5" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                                <svg id="cloud-6" class="cloud-light" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="50"></circle>
                                </svg>
                            </div>
                            <div class="stars">
                                <svg id="star-1" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-2" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-3" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                                <svg id="star-4" class="star" viewBox="0 0 20 20">
                                    <path
                                        d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z">
                                    </path>
                                </svg>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
        </div>
    </nav>

    <div class="aurora-bg-container">
        <svg class="absolute top-1/2 left-1/2 w-[200%] h-auto max-w-none -translate-x-1/2 -translate-y-1/2"
            viewBox="0 0 1440 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#blur)">
                <ellipse id="aurora-shape-1" cx="669.5" cy="493.5" rx="550.5" ry="325.5" />
                <ellipse id="aurora-shape-2" cx="1063.5" cy="385.5" rx="437.5" ry="247.5" />
                <ellipse id="aurora-shape-3" cx="303" cy="621" rx="458" ry="247" />
            </g>
            <defs>
                <filter id="blur" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox"
                    color-interpolation-filters="sRGB">
                    <feGaussianBlur stdDeviation="80" result="effect1_foregroundBlur_288_2713" />
                </filter>
            </defs>
        </svg>
    </div>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 sm:pt-32 pb-12">
        <section id="current-weather">
            <div class="text-center mb-10">
                <img id="weather-icon" src="https://openweathermap.org/img/wn/02d@4x.png" alt="Ilustrasi cuaca"
                    class="mx-auto">
                <h1 id="main-weather-location" class="text-3xl sm:text-4xl font-bold mb-3"
                    style="color: var(--text-color-primary);">
                    Cuaca Saat Ini
                </h1>

                <div id="main-weather-details" class="text-lg sm:text-xl" style="color: var(--text-color-secondary);">
                    <div class="flex justify-center items-center text-center">
                        <div class="px-4 sm:px-6">
                            <p class="text-3xl sm:text-4xl font-bold">--¬∞C</p>
                            <p class="text-sm mt-1" style="color: var(--text-color-secondary);">Suhu Saat Ini</p>
                        </div>
                        <div class="self-stretch border-l" style="border-color: var(--card-border);"></div>
                        <div class="px-4 sm:px-6 text-left">
                            <p class="font-semibold text-lg">-----</p>
                            <p class="text-sm mt-0.5" style="color: var(--text-color-secondary);">Terasa Seperti:
                                <strong>--¬∞C</strong>
                            </p>
                            <p class="text-sm" style="color: var(--text-color-secondary);">Kelembapan:
                                <strong>--%</strong>
                            </p>
                        </div>
                    </div>
                </div>

                <p class="mt-8 text-1xl sm:text-2xl font-bold" style="color: var(--text-color-secondary);">Sesuaikan
                    lokasi dan jadwal notifikasi cuaca Anda di sini üå¶Ô∏è</p>
            </div>
        </section>

        <section id="dashboard-controls">
            <div id="dashboard-grid" class="mt-8 grid grid-cols-1 lg:grid-cols-[1.9fr_1fr] gap-8 items-start">
                <div class="space-y-8">
                    <div class="dashboard-card rounded-2xl p-6">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                            <div>
                                <h2 class="text-xl font-bold">Lokasi Utama Anda</h2>
                                <p id="location-subtitle" class="text-sm mt-1"
                                    style="color: var(--text-color-secondary);">
                                    Anda hanya dapat memiliki satu lokasi utama di paket gratis.
                                </p>
                            </div>
                            <button id="add-location-btn"
                                class="btn-cta text-sm text-white font-semibold px-4 py-2 rounded-lg flex items-center justify-center sm:justify-start gap-2 w-full sm:w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                                        clip-rule="evenodd" />
                                </svg>
                                <span>Tambah Lokasi</span>
                            </button>
                        </div>
                        <div id="location-container" class="mt-4">
                            <div id="empty-location-msg" class="text-center py-4 border-2 border-dashed rounded-lg"
                                style="border-color: var(--input-border);">
                                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <h3 class="mt-2 text-sm font-medium">Belum ada lokasi</h3>
                                <p class="mt-1 text-sm text-gray-500">Mulai dengan menambahkan lokasi utama Anda.
                                </p>
                            </div>
                            <div id="location-display-card" class="space-y-3"></div>
                        </div>
                        <p id="upgrade-for-locations-msg" class="hidden text-center text-sm mt-4 p-2 rounded-md">
                            <a href="#" id="upgrade-btn-location"
                                class="upgrade-popup-trigger text-blue-600 dark:text-blue-400 font-semibold underline">Tingkatkan
                                ke Premium</a> untuk menambah lebih banyak lokasi.
                        </p>
                    </div>

                    <div class="dashboard-card rounded-2xl p-6">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                            <div>
                                <h2 class="text-xl font-bold">Jadwal Aktif Anda</h2>
                                <p id="schedule-subtitle" class="text-sm mt-1"
                                    style="color: var(--text-color-secondary);">
                                    Anda hanya dapat memiliki satu jadwal aktif di paket gratis.
                                </p>
                            </div>
                            <button id="add-schedule-btn"
                                class="btn-cta text-sm text-white font-semibold px-4 py-2 rounded-lg flex items-center justify-center sm:justify-start gap-2 w-full sm:w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                                        clip-rule="evenodd" />
                                </svg>
                                Tambah Jadwal
                            </button>
                        </div>
                        <div id="schedule-container" class="mt-4">
                            <div id="empty-schedule-msg" class="text-center py-4 border-2 border-dashed rounded-lg"
                                style="border-color: var(--input-border);">
                                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                <h3 class="mt-2 text-sm font-medium">Belum ada jadwal</h3>
                                <p class="mt-1 text-sm text-gray-500">Mulai dengan menambahkan jadwal rutin Anda.
                                </p>
                            </div>
                            <div id="schedule-display-card" class="space-y-3"></div>
                        </div>
                        <p id="upgrade-for-schedules-msg" class="hidden text-center text-sm mt-4 p-2 rounded-md">
                            <a href="#" id="upgrade-btn-schedule"
                                class="upgrade-popup-trigger text-blue-600 dark:text-blue-400 font-semibold underline">Tingkatkan
                                ke Premium</a> untuk menambah lebih banyak jadwal.
                        </p>
                    </div>

                    <div id="smart-alert-card" class="dashboard-card rounded-2xl p-6 hidden premium-feature">
                        <h2 class="text-xl font-bold mb-6">Peringatan Cerdas (Smart Alert)</h2>

                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <p class="font-semibold" style="color: var(--text-color-primary);">Notifikasi
                                    Peringatan</p>
                                <p class="text-sm mt-1" style="color: var(--text-color-secondary);">
                                    Aktifkan notifikasi HANYA jika kondisi cuaca tertentu akan terjadi pada jadwal
                                    Anda.
                                </p>
                            </div>
                            <label class="toggle-switch mt-3 sm:mt-0 flex-shrink-0">
                                <input type="checkbox" id="smart-alert-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div id="smart-alert-options-container" class="collapsible-section">
                            <hr style="border-color: var(--card-border); margin-bottom: 1.5rem;">
                            <div>
                                <p class="font-semibold mb-3" style="color: var(--text-color-primary);">Pilih Jadwal
                                    &
                                    Kondisi</p>
                                <div id="smart-alert-schedule-list" class="space-y-3">
                                    <div class="inner-card p-3 rounded-lg flex items-center justify-between">
                                        <span class="font-medium text-sm">Pulang Kantor</span>
                                        <div class="flex items-center gap-2">
                                            <label class="radio-label">
                                                <input type="radio" name="alert-condition-1" value="hujan">
                                                <span>Hujan</span>
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="alert-condition-1" value="panas">
                                                <span>Panas</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="inner-card p-3 rounded-lg flex items-center justify-between">
                                        <span class="font-medium text-sm">Lari Pagi</span>
                                        <div class="flex items-center gap-2">
                                            <label class="radio-label">
                                                <input type="radio" name="alert-condition-2" value="hujan" checked>
                                                <span>Hujan</span>
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="alert-condition-2" value="panas">
                                                <span>Panas</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div id="empty-smart-alert-msg" class="text-center py-4 text-sm"
                                        style="color: var(--text-color-secondary);">
                                        <p>Anda belum memiliki jadwal untuk diatur.</p>
                                        <p>Silakan buat jadwal terlebih dahulu.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="daily-summary-card" class="dashboard-card rounded-2xl p-6 hidden premium-feature">
                        <h2 class="text-xl font-bold mb-6">Ringkasan Cuaca Harian</h2>

                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <p class="font-semibold" style="color: var(--text-color-primary);">Notifikasi
                                    Ringkasan</p>
                                <p class="text-sm mt-1" style="color: var(--text-color-secondary);">Aktifkan untuk
                                    menerima notifikasi ringkasan cuaca harian untuk semua jadwal Anda.</p>
                            </div>
                            <label class="toggle-switch mt-3 sm:mt-0 flex-shrink-0">
                                <input type="checkbox" id="daily-summary-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div id="daily-summary-options-container" class="collapsible-section">
                            <hr style="border-color: var(--card-border); margin-bottom: 1.5rem;">
                            <div class="flex items-start gap-3">
                                <div class="w-2/3">
                                    <label for="summary-time" class="block text-sm font-medium">Waktu</label>
                                    <input id="summary-time" type="time" class="form-input w-full mt-1 p-2 rounded-lg"
                                        value="07:00">
                                </div>
                                <div class="w-1/3">
                                    <label for="summary-timezone" class="block text-sm font-medium">Zona</label>
                                    <select id="summary-timezone" name="summary-timezone"
                                        class="form-select w-full mt-1 p-2.5 rounded-lg">
                                        <option value="WIB" selected>WIB</option>
                                        <option value="WITA">WITA</option>
                                        <option value="WIT">WIT</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="premium-teaser-card" class="dashboard-card rounded-2xl p-6 lg:sticky lg:top-28">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-400" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        Buka Fitur Premium
                    </h2>

                    <ul class="mt-4 space-y-2">
                        <li class="flex items-start gap-3 premium-feature-teaser">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mt-0.5"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h4 class="font-semibold">Hingga 5 Lokasi & Jadwal</h4>
                                <p class="text-xs" style="color: var(--text-color-secondary);">Pantau cuaca untuk
                                    rumah, kantor, dan gym Anda secara bersamaan.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3 premium-feature-teaser">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mt-0.5"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-4a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 8a.875.875 0 100-1.75.875.875 0 000 1.75z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h4 class="font-semibold">Peringatan Cerdas (Smart Alerts)</h4>
                                <p class="text-xs" style="color: var(--text-color-secondary);">Dapatkan notifikasi
                                    HANYA JIKA akan hujan deras atau kondisi tertentu.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3 premium-feature-teaser">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mt-0.5"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M3 4a1 1 0 011-1h12a1 1 0 011 1v11.586l-3.707-3.707a1 1 0 00-1.414 0L10 14.172l-2.879-2.879a1 1 0 00-1.414 0L3 15.586V4z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h4 class="font-semibold">Ringkasan Cuaca Harian</h4>
                                <p class="text-xs" style="color: var(--text-color-secondary);">Satu email ringkasan
                                    setiap pagi untuk semua jadwal dan lokasi Anda.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3 premium-feature-teaser">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mt-0.5"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M10 2a8 8 0 100 16 8 8 0 000-16zM9 5a1 1 0 012 0v4h3a1 1 0 010 2h-4a1 1 0 01-1-1V5z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h4 class="font-semibold">Sesuaikan Waktu Notifikasi</h4>
                                <p class="text-xs" style="color: var(--text-color-secondary);">Sesuaikan sendiri
                                    kapan
                                    pengingat dikirim ‚Äî 30 menit, 1 jam, atau 2 jam sebelumnya.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3 premium-feature-teaser">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 mt-0.5"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M18 10c0 3.866-3.582 7-8 7a8.81 8.81 0 01-2.89-.48l-3.54 1.18a1 1 0 01-1.26-1.26l1.18-3.54A8.81 8.81 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zm-5-3H7a1 1 0 100 2h6a1 1 0 100-2zm-2 4H7a1 1 0 100 2h4a1 1 0 100-2z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h4 class="font-semibold">Notifikasi Telegram</h4>
                                <p class="text-xs" style="color: var(--text-color-secondary);">
                                    Hubungkan akun Anda untuk menerima notifikasi langsung di
                                    Telegram.
                                </p>
                            </div>
                        </li>
                    </ul>

                    <button id="upgrade-btn-sidebar"
                        class="w-full mt-6 btn-cta text-sm text-white font-semibold px-4 py-2.5 rounded-lg">
                        Dapatkan Fitur Premium
                    </button>
                </div>
            </div>
        </section>

        <section id="notification-settings" class="mt-8">
            <div class="dashboard-card rounded-2xl p-6">
                <h2 class="text-xl font-bold mb-6">Notifikasi Pengguna</h2>
                <div class="space-y-6">
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                        <div>
                            <p class="font-semibold" style="color: var(--text-color-primary);">Email</p>
                            <p class="text-sm mt-1" style="color: var(--text-color-secondary);">Aktifkan untuk
                                menerima notifikasi cuaca melalui email.</p>
                        </div>
                        <label class="toggle-switch mt-3 sm:mt-0 flex-shrink-0">
                            <input type="checkbox" id="email-notification-toggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <hr style="border-color: var(--card-border);">

                    <div id="telegram-notification-group"
                        class="premium-feature-control flex flex-col sm:flex-row sm:items-center sm:justify-between">
                        <div>
                            <p class="font-semibold flex items-center gap-2">Telegram
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 text-yellow-500 premium-feature-lock" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z"
                                        clip-rule="evenodd" />
                                </svg>
                            </p>
                            <p id="telegram-status-text" class="text-sm mt-1"
                                style="color: var(--text-color-secondary);">Hubungkan Telegram
                                untuk notifikasi langsung.</p>
                        </div>
                        <button id="telegram-connect-btn"
                            class="btn-disabled text-white sm:mt-0 mt-3 text-sm font-semibold px-4 py-2 rounded-lg flex-shrink-0">
                            Hubungkan
                        </button>
                        <div id="telegram-connected-state" class="hidden flex items-center gap-2">
                            <button id="edit-telegram-btn" class="action-btn p-2 rounded-full">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path
                                        d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                                    <path fill-rule="evenodd"
                                        d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"
                                        clip-rule="evenodd" />
                                </svg>
                            </button>
                            <button id="delete-telegram-btn" class="action-btn p-2 rounded-full">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z"
                                        clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <p id="notification-upgrade-msg" class="text-center text-sm mt-6 p-2 rounded-md">
                    <a href="#"
                        class="upgrade-popup-trigger text-blue-600 dark:text-blue-400 font-semibold underline">Tingkatkan
                        ke Premium</a> untuk notifikasi via Telegram.
                </p>
            </div>
        </section>
    </main>
    </div>

    <section id="modals">

        <div id="confirmation-modal" class="hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
            <div class="modal-backdrop fixed inset-0"></div>
            <div class="modal-content relative w-full max-w-sm p-6 rounded-2xl text-center">
                <button
                    class="close-confirmation-btn absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <div
                    class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/30">
                    <svg class="h-6 w-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">
                        </path>
                    </svg>
                </div>
                <h3 class="mt-4 text-lg font-semibold" style="color: var(--text-color-primary);">Konfirmasi Hapus</h3>
                <p id="confirmation-message" class="mt-2 text-sm" style="color: var(--text-color-secondary);">
                    Apakah Anda yakin ingin menghapus item ini? Tindakan ini tidak dapat dibatalkan.
                </p>
                <div class="mt-6 flex justify-center gap-3">
                    <button id="confirm-delete-btn"
                        class="px-4 py-2 text-sm font-semibold rounded-lg text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 transition-colors">
                        Ya, Hapus
                    </button>
                    <button id="cancel-delete-btn"
                        class="px-4 py-2 text-sm font-medium rounded-md close-confirmation-btn"
                        style="background-color: var(--action-btn-hover-bg); color: var(--text-color-primary);">
                        Batal
                    </button>
                </div>
            </div>
        </div>

        <div id="location-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
            <div class="modal-backdrop fixed inset-0"></div>
            <div class="modal-content relative w-full max-w-lg p-6 rounded-2xl">
                <button
                    class="close-modal-btn absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 z-20">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <h3 id="location-modal-title" class="text-lg font-bold">Tambah Lokasi</h3>
                <p class="text-sm mt-1 mb-4" style="color: var(--text-color-secondary);">
                    Ketik nama lokasi atau klik langsung pada peta.
                </p>
                <form id="location-form">
                    <div>
                        <label for="location-search-input" class="block text-sm font-medium">Nama Lokasi /
                            Alamat</label>
                        <div class="mt-1">
                            <input id="location-search-input" type="text" placeholder="Contoh: Sorong, Papua Barat Daya"
                                class="form-input w-full p-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500"
                                required />

                            <button type="button" id="get-current-location-btn"
                                class="mt-2 w-full flex items-center justify-center rounded-lg btn-cta text-white font-medium py-2.5">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" />
                                </svg>
                                Gunakan Lokasi Saat Ini
                            </button>
                        </div>
                    </div>

                    <div id="map"></div>
                    <div class="flex justify-end gap-3 pt-4">
                        <button type="button"
                            class="close-modal-btn px-4 py-2 text-sm font-medium rounded-md">Batal</button>
                        <button id="location-submit-btn" type="submit"
                            class="btn-cta text-white px-4 py-2 text-sm font-semibold rounded-lg">Simpan Lokasi</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="schedule-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
            <div class="modal-backdrop fixed inset-0"></div>
            <div class="modal-content relative w-full max-w-lg p-6 rounded-2xl">
                <button
                    class="close-modal-btn absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <h3 id="schedule-modal-title" class="text-lg font-bold">Tambah Jadwal Baru</h3>
                <form id="schedule-form" class="mt-4 space-y-4">
                    <div>
                        <label for="schedule-name" class="block text-sm font-medium">Nama Jadwal</label>
                        <input id="schedule-name" type="text" placeholder="Contoh: Pulang Kantor"
                            class="form-input w-full mt-1 p-2.5 rounded-lg" required>
                    </div>
                    <div>
                        <label for="schedule-location" class="block text-sm font-medium">Pilih Lokasi</label>
                        <select id="schedule-location" name="schedule-location" required
                            class="form-select w-full mt-1 p-2.5 rounded-lg"></select>
                        <p id="no-location-warning" class="hidden text-xs text-red-500 mt-1">Anda harus menambahkan
                            lokasi terlebih dahulu sebelum membuat jadwal.</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Hari</label>
                        <div class="mt-2 grid grid-cols-4 sm:grid-cols-7 gap-2">
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Sen">Sen</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Sel">Sel</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Rab">Rab</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Kam">Kam</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Jum">Jum</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Sab">Sab</label>
                            <label
                                class="form-day-label flex items-center justify-center p-2 rounded-md cursor-pointer transition-colors"><input
                                    type="checkbox" name="day" value="Min">Min</label>
                        </div>
                    </div>

                    <div class="flex items-start gap-3">
                        <div class="w-2/3">
                            <label for="schedule-time" class="block text-sm font-medium">Waktu</label>
                            <input id="schedule-time" type="time" class="form-input w-full mt-1 p-2 rounded-lg"
                                required>
                        </div>
                        <div class="w-1/3">
                            <label for="schedule-timezone" class="block text-sm font-medium">Zona</label>
                            <select id="schedule-timezone" name="schedule-timezone" required
                                class="form-select w-full mt-1 p-2.5 rounded-lg">
                                <option value="WIB">WIB</option>
                                <option value="WITA">WITA</option>
                                <option value="WIT">WIT</option>
                            </select>
                        </div>
                    </div>

                    <div id="schedule-notification-time-group" class="hidden premium-feature">
                        <label for="schedule-notification-time" class="block text-sm font-medium">Kirim
                            Notifikasi</label>
                        <select id="schedule-notification-time" name="schedule-notification-time"
                            class="form-select w-full mt-1 p-2.5 rounded-lg">
                            <option value="30">30 menit sebelumnya</option>
                            <option value="60" selected>1 jam sebelumnya</option>
                            <option value="90">1 jam 30 menit sebelumnya</option>
                            <option value="120">2 jam sebelumnya</option>
                            <option value="150">2 jam 30 menit sebelumnya</option>
                            <option value="180">3 jam sebelumnya</option>
                        </select>
                    </div>

                    <div class="card-notification text-xs text-center p-2 rounded-md free-feature-message"
                        style="color: var(--text-color-secondary);">
                        <p>Waktu notifikasi akan dikirim 1 jam lebih awal.
                            <a href="#"
                                class="upgrade-popup-trigger text-blue-600 dark:text-blue-400 font-semibold underline">Tingkatkan
                                Ke Premium</a> untuk dapat menyesuaikan waktu notifikasi.
                        </p>
                    </div>

                    <div class="flex justify-end gap-3 pt-4">
                        <button type="button"
                            class="close-modal-btn px-4 py-2 text-sm font-medium rounded-md">Batal</button>
                        <button id="schedule-submit-btn" type="submit"
                            class="btn-cta text-white px-4 py-2 text-sm font-semibold rounded-lg">Simpan Jadwal</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="telegram-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
            <div class="modal-backdrop fixed inset-0"></div>
            <div class="modal-content relative w-full max-w-lg p-6 rounded-2xl">
                <button
                    class="close-modal-btn absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <h3 id="telegram-modal-title" class="text-lg font-bold">Hubungkan Telegram</h3>
                <form id="telegram-form" class="mt-4 space-y-4">
                    <div id="telegram-step-1">
                        <label for="telegram-username" class="block text-sm font-medium">Telegram Username</label>
                        <input id="telegram-username" type="text" placeholder="@usernameanda"
                            class="form-input w-full mt-1 p-2.5 rounded-lg" required>
                        <p class="text-xs mt-1" style="color: var(--text-color-secondary);">Pastikan Anda sudah memulai
                            chat dengan bot <a href="https://t.me/Weathrly_bot" target="_blank"
                                class="font-semibold underline">@Weathrly_bot</a> kami agar kami bisa mengirim kode
                            verifikasi.</p>
                    </div>
                    <div id="telegram-step-2" class="hidden">
                        <label for="telegram-verification-code" class="block text-sm font-medium">Kode
                            Verifikasi</label>
                        <input id="telegram-verification-code" type="text" inputmode="numeric"
                            placeholder="Masukkan 6 digit kode"
                            class="form-input w-full mt-1 p-2.5 rounded-lg text-center tracking-[0.5em]" maxlength="6">
                        <p class="text-xs mt-1" style="color: var(--text-color-secondary);">Kami telah mengirimkan kode
                            via bot Telegram. Periksa pesan masuk Anda.</p>
                    </div>
                    <div class="flex justify-end gap-3 pt-4">
                        <button type="button"
                            class="close-modal-btn px-4 py-2 text-sm font-medium rounded-md">Batal</button>
                        <button id="telegram-submit-btn" type="submit"
                            class="btn-cta text-white px-4 py-2 text-sm font-semibold rounded-lg">Lanjutkan</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="upgrade-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
            <div class="modal-backdrop fixed inset-0"></div>
            <div class="modal-content relative w-full max-w-lg p-6 sm:p-8 rounded-2xl text-center">
                <button
                    class="close-modal-btn absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>

                <h2 class="text-xl sm:text-2xl font-bold font-poppins" style="color: var(--text-color-primary);">
                    Tingkatkan ke Weathrly <br> Premium</h2>
                <p class="text-sm mt-2 mb-4 sm:mb-6" style="color: var(--text-color-secondary);">
                    Nikmati kebebasan penuh dalam mengatur jadwal, lokasi, dan notifikasi cuaca Anda.
                </p>

                <ul class="space-y-2 sm:space-y-3 text-left mb-4 sm:mb-6">
                    <li class="flex items-center">‚úì <span class="ml-2">Hingga 5 Lokasi & Jadwal</span></li>
                    <li class="flex items-center">‚úì <span class="ml-2">Peringatan Cerdas (Smart Alerts)</span></li>
                    <li class="flex items-center">‚úì <span class="ml-2">Sesuaikan Waktu Notifikasi</span></li>
                    <li class="flex items-center">‚úì <span class="ml-2">Ringkasan Cuaca Harian</span></li>
                    <li class="flex items-center">‚úì <span class="ml-2">Notifikasi Telegram</span></li>
                </ul>

                <div class="mb-4 sm:mb-6">
                    <p class="text-[2.25rem] sm:text-[2.75rem] font-extrabold flex items-baseline justify-center"
                        style="color: var(--text-color-primary);">Rp49.000
                        <span class="text-base sm:text-lg font-medium"
                            style="color: var(--text-color-secondary);">/bulan
                        </span>
                    </p>
                    <p class="text-xs mt-0 mb-6 sm:mb-8" style="color: var(--text-color-secondary);">Bayar bulanan.
                        Batalkan kapan
                        saja.</p>
                </div>

                <div class="flex flex-col gap-3 mb-4 items-center">
                    <button id="confirm-upgrade-btn" class="w-full btn-cta text-white font-semibold py-2.5 rounded-lg">
                        Tingkatkan Sekarang
                    </button>
                    <button class="close-modal-btn font-semibold py-2.5 px-6 rounded-lg transition-colors">
                        Batal
                    </button>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-center">
            <div class="flex justify-center items-center">
                <img src="../static/style/image/logo.png" alt="Logo Weathrly"
                    class="w-12 h-11 mr-1 rounded-full object-cover">
                <h3 class="font-bold text-2xl" style="color: var(--text-color-primary);">Weathrly</h3>
            </div>
            <p class="mt-2 text-base" style="color: var(--text-color-secondary);">
                Rencanakan harimu, hadapi cuaca dengan tenang.
            </p>
            <p class="mt-2 text-base" style="color: var(--text-color-secondary);">
                Hubungi kami:
                <a href="mailto:asisten@weathrly.web.id" class="text-indigo-400 hover:text-indigo-300 underline">
                    asisten@weathrly.web.id
                </a>
            </p>
            <div class="button-container my-6">
                <a href="https://x.com/Weathrly_" target="_blank" class="button flex-center"
                    aria-label="Kunjungi Twitter kami">
                    <svg viewBox="0 0 24 24" class="btn-svg" width="18px" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z">
                        </path>
                    </svg>
                </a>
                <a href="https://www.instagram.com/official_weathrly/" target="_blank" class="button flex-center"
                    aria-label="Kunjungi Instagram kami">
                    <svg viewBox="0 0 24 24" class="btn-svg" width="22px" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z">
                        </path>
                        <path
                            d="M18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M1.65396 4.27606C1 5.55953 1 7.23969 1 10.6V13.4C1 16.7603 1 18.4405 1.65396 19.7239C2.2292 20.8529 3.14708 21.7708 4.27606 22.346C5.55953 23 7.23969 23 10.6 23H13.4C16.7603 23 18.4405 23 19.7239 22.346C20.8529 21.7708 21.7708 20.8529 22.346 19.7239C23 18.4405 23 16.7603 23 13.4V10.6C23 7.23969 23 5.55953 22.346 4.27606C21.7708 3.14708 20.8529 2.2292 19.7239 1.65396C18.4405 1 16.7603 1 13.4 1H10.6C7.23969 1 5.55953 1 4.27606 1.65396C3.14708 2.2292 2.2292 3.14708 1.65396 4.27606ZM13.4 3H10.6C8.88684 3 7.72225 3.00156 6.82208 3.0751C5.94524 3.14674 5.49684 3.27659 5.18404 3.43597C4.43139 3.81947 3.81947 4.43139 3.43597 5.18404C3.27659 5.49684 3.14674 5.94524 3.0751 6.82208C3.00156 7.72225 3 8.88684 3 10.6V13.4C3 15.1132 3.00156 16.2777 3.0751 17.1779C3.14674 18.0548 3.27659 18.5032 3.43597 18.816C3.81947 19.5686 4.43139 20.1805 5.18404 20.564C5.49684 20.7234 5.94524 20.8533 6.82208 20.9249C7.72225 20.9984 8.88684 21 10.6 21H13.4C15.1132 21 16.2777 20.9984 17.1779 20.9249C18.0548 20.8533 18.5032 20.7234 18.816 20.564C19.5686 20.1805 20.1805 19.5686 20.564 18.816C20.7234 18.5032 20.8533 18.0548 20.9249 17.1779C20.9984 16.2777 21 15.1132 21 13.4V10.6C21 8.88684 20.9984 7.72225 20.9249 6.82208C20.8533 5.94524 20.7234 5.49684 20.564 5.18404C20.1805 4.43139 19.5686 3.81947 18.816 3.43597C18.5032 3.27659 18.0548 3.14674 17.1779 3.0751C16.2777 3.00156 15.1132 3 13.4 3Z">
                        </path>
                    </svg>
                </a>
                <a href="https://www.youtube.com/@weathrlyy" target="_blank" class="button flex-center"
                    aria-label="Kunjungi YouTube kami">
                    <svg class="btn-svg" width="22px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M21.582,6.186c-0.23-0.86-0.908-1.538-1.768-1.768C18.254,4,12,4,12,4S5.746,4,4.186,4.418 c-0.86,0.23-1.538,0.908-1.768,1.768C2,7.746,2,12,2,12s0,4.254,0.418,5.814c0.23,0.86,0.908,1.538,1.768,1.768 C5.746,20,12,20,12,20s6.254,0,7.814-0.418c0.861-0.23,1.538-0.908,1.768-1.768C22,16.254,22,12,22,12S22,7.746,21.582,6.186z M10,15.464V8.536L16,12L10,15.464z" />
                    </svg>
                </a>
            </div>
            <p class="text-sm mt-6" style="color: var(--text-color-secondary);">
                ¬© 2025 Weathrly. All rights reserved.
            </p>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>

    <script type="module" src="../static/style/js/dashboard.js"></script>
</body>

</html>